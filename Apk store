import telegram
from telegram import InlineKeyboardButton, InlineKeyboardMarkup, Update
from telegram.ext import ApplicationBuilder, ContextTypes, CommandHandler
import logging

# ----------------------------------------------------
# 1. рдЗрд╕ рдЬрдЧрд╣ рдкрд░ рдЕрдкрдирд╛ рдмреЙрдЯ TOKEN рдмрджрд▓реЗрдВ
# (рдЬреЛ рдЖрдкрдХреЛ @BotFather рд╕реЗ рдорд┐рд▓рд╛ рд╣реИ)
# ----------------------------------------------------
BOT_TOKEN = "8510316610:AAGvnQloODP6OZoxTdM9G8PCGCb1br5vJig"

# ----------------------------------------------------
# 2. рдЗрд╕ рдЬрдЧрд╣ рдкрд░ рдЕрдкрдиреЗ рд╕реНрдЯреЛрд░ рдХрд╛ рд▓рд┐рдВрдХ рдмрджрд▓реЗрдВ
# ----------------------------------------------------
STORE_URL = "https://www.your-free-fire-store-link.com"

# Logging рд╕реЗрдЯрдЕрдк рдХрд░реЗрдВ (рдпрд╣ рдЖрдкрдХреЛ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдпрд╣ рджреЗрдЦрдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдмреЙрдЯ рдХреНрдпрд╛ рдХрд░ рд░рд╣рд╛ рд╣реИ)
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)

# -----------------
# /start рдХрдорд╛рдВрдб рдХреЗ рд▓рд┐рдП рдлрдВрдХреНрд╢рди
# -----------------
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):

    # рдмрдЯрди рдкрд░ рджрд┐рдЦрдиреЗ рд╡рд╛рд▓рд╛ рдЯреЗрдХреНрд╕реНрдЯ
    button_text = "FREE FIRE SRC STORE ЁЯПв"

    # InlineKeyboardButton (рдмрдЯрди) рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВ
    store_button = InlineKeyboardButton(
        text=button_text,
        url=STORE_URL
    )

    # InlineKeyboardMarkup (рдмрдЯрди рдХреЛ рдореИрд╕реЗрдЬ рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рд╡рд╛рд▓рд╛ рдлреНрд░реЗрдо) рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВ
    keyboard = InlineKeyboardMarkup([
        [store_button] # рдПрдХ рдкрдВрдХреНрддрд┐ рдореЗрдВ рдПрдХ рдмрдЯрди
    ])

    # рдпреВрдЬрд░ рдХреЛ рдореИрд╕реЗрдЬ рднреЗрдЬреЗрдВ
    await update.message.reply_text(
        "рдирдорд╕реНрддреЗ! рдЕрдкрдиреЗ рдлреНрд░реА рдлрд╛рдпрд░ рд╕реНрдЯреЛрд░ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред",
        reply_markup=keyboard
    )

# -----------------
# рдореБрдЦреНрдп рд▓реЙрдЬрд┐рдХ (Main Logic)
# -----------------
if __name__ == '__main__':

    # Bot Application рдмрдирд╛рдПрдВ
    application = ApplicationBuilder().token(BOT_TOKEN).build()

    # /start рдХрдорд╛рдВрдб рд╣реИрдВрдбрд▓рд░ рдХреЛ рдЬреЛрдбрд╝реЗрдВ
    start_handler = CommandHandler('start', start)
    application.add_handler(start_handler)

    # рдмреЙрдЯ рдХреЛ рд╢реБрд░реВ рдХрд░реЗрдВ рдФрд░ Telegram рд╕реЗ рдЕрдкрдбреЗрдЯреНрд╕ рд▓реЗрдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ
    print("рдмреЙрдЯ рд╢реБрд░реВ рд╣реЛ рдЧрдпрд╛ рд╣реИред рдЕрдкрдбреЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдкреЙрд▓рд┐рдВрдЧ рд╢реБрд░реВ рд╣реЛ рд░рд╣реА рд╣реИ...")
    application.run_polling()
