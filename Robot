import random
import time

# پایگاه داده پاسخ‌ها
responses = {
    "سلام": ["سلام عزیزم!", "درود! چطوری؟", "سلام! خوش اومدی."],
    "حال": ["من خوبم، تو چطور؟", "مرسی که می‌پرسی. تو چطوری؟", "خوبم! امروز رو چطور گذوندی؟"],
    "ناراحت": ["می‌تونی بیشتر برام تعریف کنی؟", "متاسفم که ناراحتی. اینجا هستم تا گوش کنم.", "احساساتت کاملاً طبیعیه. بگو چه اتفاقی افتاده؟"],
    "خوشحال": ["چه عالی! خوشحالم که خوشحالی!", "این خبر خوبیه! برات خوشحالم.", "واقعاً دلم می‌خواد بیشتر برام تعریف کنی!"],
    "خداحافظ": ["خداحافظ! هر وقت خواستی حرف بزنی من اینجام.", "موفق باشی! منتظر حرفاتم.", "خدانگهدار دوست عزیز!"],
    "پیش‌فرض": ["جالب است... بیشتر بگو.", "می‌شه بیشتر توضیح بدی؟", "چطور به این موضوع فکر کردی؟"]
}

# کلمات کلیدی
keywords = {
    "سلام": "سلام",
    "حالم": "حال",
    "ناراحت": "ناراحت",
    "غمگین": "ناراحت",
    "خوشحال": "خوشحال",
    "خوش": "خوشحال",
    "خداحافظ": "خداحافظ",
    "بای": "خداحافظ"
}

def find_response(user_input):
    user_input = user_input.lower()

    # جستجوی کلمات کلیدی
    for word, category in keywords.items():
        if word in user_input:
            return random.choice(responses[category])

    # پاسخ پیش‌فرض
    return random.choice(responses["پیش‌فرض"])

def main():
    print("=" * 50)
    print("ربات همدم: سلام! من ربات همدم تو هستم.")
    print("می‌تونی هر چیزی که دلت می‌خواد با من در میون بذاری.")
    print("برای خروج بنویس 'خداحافظ'")
    print("=" * 50)

    while True:
        user_input = input("\nتو: ")

        if user_input.lower() in ["خداحافظ", "بای", "exit", "quit"]:
            print(f"\nربات: {random.choice(responses['خداحافظ'])}")
            break

        # تاخیر برای طبیعی‌تر شدن
        time.sleep(0.5)

        response = find_response(user_input)
        print(f"\nربات: {response}")

if __name__ == "__main__":
    main()
